"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[412],{5738:(e,s,r)=>{r.d(s,{A:()=>i});const t="FilterForm_wrap__dKOTC",n="FilterForm_icon__23iPD",o="FilterForm_input__NJviq",l="FilterForm_button__2yayb";var a=r(4858),c=r(7713),d=r(579);const i=e=>{let{setSearchQuery:s,placeholder:r}=e;const{register:i,handleSubmit:u}=(0,a.mN)();return(0,d.jsx)("form",{onSubmit:u((e=>{s(e.name)})),children:(0,d.jsxs)("div",{className:t,children:[(0,d.jsx)("input",{...i("name"),className:o,placeholder:r}),(0,d.jsxs)("button",{type:"submit",className:l,children:[(0,d.jsx)("div",{className:n,children:(0,d.jsx)(c.A,{name:"filter",width:14,height:14})}),"Filter"]})]})})}},4229:(e,s,r)=>{r.d(s,{A:()=>p});var t=r(5043),n=r(7950);const o="Modal_backdrop__xTnIT",l="Modal_container__Ha+Ky",a="Modal_modal__DJDMv",c="Modal_btnClose__oHdcJ",d="Modal_title__3HkNf",i=(e,s,r)=>{(0,t.useEffect)((()=>{const r=s=>{"Escape"===s.code&&e(!1)},t=r=>{s.current&&!s.current.contains(r.target)&&e(!1)};return window.addEventListener("keydown",r),document.addEventListener("mousedown",t),document.body.classList.add("body-scroll-lock"),()=>{window.removeEventListener("keydown",r),document.removeEventListener("mousedown",t),document.body.classList.remove("body-scroll-lock")}}),[e,s,r])};var u=r(7713),m=r(579);const h=document.querySelector("#root-modal"),p=e=>{let{onClose:s,children:r,title:p}=e;const _=(0,t.useRef)(null);return i(s,_),h&&(0,n.createPortal)((0,m.jsx)("div",{className:o,children:(0,m.jsx)("div",{className:l,children:(0,m.jsxs)("div",{className:a,ref:_,onClick:e=>e.stopPropagation(),children:[(0,m.jsx)("button",{className:c,onClick:()=>s(!1),children:(0,m.jsx)(u.A,{name:"close",width:24,height:24})}),(0,m.jsx)("div",{className:d,children:p}),(0,m.jsx)("div",{children:r})]})})}),h)}},7240:(e,s,r)=>{r.d(s,{A:()=>a});const t="RenderPaginationDots_pagination__HG7kX",n="RenderPaginationDots_dot__MjI2h",o="RenderPaginationDots_activeDot__xOgyA";var l=r(579);const a=e=>{let{currentPage:s,total:r,handlePageChange:a}=e;const c=Math.ceil(r/5),d=[],i=Math.floor(2.5);let u=Math.max(1,s-i),m=Math.min(c,s+i);s<=i?m=Math.min(c,5):s>c-i&&(u=Math.max(1,c-5+1));for(let t=u;t<=m;t++)d.push((0,l.jsx)("button",{onClick:()=>a(t),className:"".concat(n," ").concat(s===t?o:"")},t));return u>1&&(d.unshift((0,l.jsx)("span",{children:"..."},"startEllipsis")),d.unshift((0,l.jsx)("button",{onClick:()=>a(1),className:"".concat(n," ").concat(1===s?o:"")},1))),m<c&&(d.push((0,l.jsx)("span",{children:"..."},"endEllipsis")),d.push((0,l.jsx)("button",{onClick:()=>a(c),className:"".concat(n," ").concat(s===c?o:"")},c))),(0,l.jsx)("div",{className:t,children:d})}},2412:(e,s,r)=>{r.r(s),r.d(s,{default:()=>ie});var t=r(5043),n=r(5738),o=r(7170);const l="AddNewProduct_icon__MFMLA";var a=r(7713),c=r(4229);const d="AddNewProductModal_wrap__U+mpS",i="AddNewProductModal_inputWrap__jAL8w",u="AddNewProductModal_input__SF6J9",m="AddNewProductModal_errormessage__sDoOW",h="AddNewProductModal_iconChevron__edSiP",p="AddNewProductModal_buttonWrap__cJclg",_="AddNewProductModal_buttonAdd__wSxIX",x="AddNewProductModal_buttonCancel__5dJ84";var j=r(4858),v=r(8403),g=r(899);const N="Dropdown_dropDown__VO0hG",b="Dropdown_container__wdJNh",y="Dropdown_list__T+o5-",C="Dropdown_category__mKHwx";var w=r(6962);const f=["Medicine","Head","Hand","Dental Care","Skin Care","Eye Care","Vitamins & Supplements","Orthopedic Products","Baby Care"];var A=r(579);const k=t.forwardRef(((e,s)=>{let{onSelect:r,onClose:n}=e;const o=(0,t.useRef)(null);return(0,w.A)(n,o,s),(0,A.jsx)("div",{className:N,ref:o,children:(0,A.jsx)("div",{className:b,children:(0,A.jsx)("ul",{className:y,children:f.map((e=>(0,A.jsx)("li",{onClick:()=>{r(e)},className:C,children:e},e)))})})})}));var S=r(3003),P=r(6886);const M=e=>{var s,r,n,o,l;let{onClose:c}=e;const[N,b]=(0,t.useState)(!1),[y,C]=(0,t.useState)(""),w=(0,t.useRef)(null),f=(0,S.wA)(),M=g.Ik({name:g.Yj().required("Product info is required"),category:g.Yj().required("Category is required"),suppliers:g.Yj().required("Suppliers is required"),stock:g.ai().typeError("Stock is required and must be a number").required(),price:g.ai().typeError("Price is required and must be a number").required()}).required(),{register:E,handleSubmit:D,control:q,setValue:T,formState:{errors:F}}=(0,j.mN)({resolver:(0,v.t)(M)});(0,t.useEffect)((()=>{T("category",y)}),[y,T]);return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)("form",{onSubmit:D((e=>{const s={name:e.name,category:e.category,suppliers:e.suppliers,stock:e.stock.toString(),price:e.price.toString()};f((0,P.Bj)(s)),c()})),children:[(0,A.jsxs)("div",{className:d,children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("input",{...E("name"),className:u,placeholder:"Product info"}),(0,A.jsx)("p",{className:m,children:null===(s=F.name)||void 0===s?void 0:s.message})]}),(0,A.jsxs)("div",{className:i,children:[(0,A.jsx)(j.xI,{name:"category",control:q,render:e=>{let{field:s}=e;return(0,A.jsx)("input",{...s,className:u,placeholder:"Category",value:y})}}),!y&&(0,A.jsx)("p",{className:m,children:null===(r=F.category)||void 0===r?void 0:r.message}),(0,A.jsx)("div",{className:h,onClick:()=>b(!N),ref:w,children:(0,A.jsx)(a.A,{name:"chevron-down",width:16,height:16})}),N&&(0,A.jsx)(k,{onSelect:e=>{C(e),b(!1)},onClose:b,ref:w})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("input",{...E("suppliers"),className:u,placeholder:"Suppliers"}),(0,A.jsx)("p",{className:m,children:null===(n=F.suppliers)||void 0===n?void 0:n.message})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(j.xI,{name:"stock",control:q,render:e=>{let{field:s}=e;return(0,A.jsx)("input",{...s,className:u,placeholder:"Stock",type:"number",onChange:e=>{const r=e.target.value.replace(",",".");s.onChange(r)}})}}),(0,A.jsx)("p",{className:m,children:null===(o=F.stock)||void 0===o?void 0:o.message})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(j.xI,{name:"price",control:q,render:e=>{let{field:s}=e;return(0,A.jsx)("input",{...s,className:u,placeholder:"Price",type:"number",onChange:e=>{const r=e.target.value.replace(",",".");s.onChange(r)}})}}),(0,A.jsx)("p",{className:m,children:null===(l=F.price)||void 0===l?void 0:l.message})]})]}),(0,A.jsxs)("div",{className:p,children:[(0,A.jsx)("button",{type:"submit",className:_,children:"Add"}),(0,A.jsx)("button",{type:"button",className:x,onClick:c,children:"Cancel"})]})]})})},E=()=>{const[e,s]=(0,t.useState)(!1),r=()=>{s(!1)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{className:l,onClick:()=>s(!0),children:(0,A.jsx)(a.A,{name:"add",width:20,height:20})}),e&&(0,A.jsx)(c.A,{onClose:r,title:"Add a new product",children:(0,A.jsx)(M,{onClose:r})})]})};var D=r(8931),q=r(7111);const T="AllProductsTable_table__RucKg",F="AllProductsTable_header__L8aca",K="AllProductsTable_subheader__AUKOw",R="AllProductsTable_row__-xfsz",L="AllProductsTable_noResults__dcB5-",I="AllProductsTable_col-info__KTKqG",H="AllProductsTable_col-category__K37vU",J="AllProductsTable_col-stock__7Jp11",V="AllProductsTable_buttonsWrap__S3MdH",W="AllProductsTable_buttonEdit__yCkyO",O="AllProductsTable_buttonDelete__hTPUZ",Y="EditModal_wrap__6LjQN",z="EditModal_inputWrap__8rLVE",Q="EditModal_input__DemmQ",G="EditModal_errormessage__Twc9m",U="EditModal_iconChevron__Y44qd",B="EditModal_buttonWrap__wH5ct",X="EditModal_buttonAdd__MgbNJ",Z="EditModal_buttonCancel__nZEvv";var $=r(1036);const ee=e=>{var s,r,n,o,l;let{data:c,onClose:d}=e;const[i,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(c.category),p=(0,t.useRef)(null),_=(0,S.wA)(),x=g.Ik({name:g.Yj().required("Product info is required"),category:g.Yj().required("Category is required"),suppliers:g.Yj().required("Suppliers is required"),stock:g.ai().typeError("Stock is required and must be a number").required(),price:g.ai().typeError("Price is required and must be a number").required()}).required(),{register:N,handleSubmit:b,control:y,setValue:C,formState:{errors:w}}=(0,j.mN)({resolver:(0,v.t)(x),defaultValues:{name:c.name,category:c.category,suppliers:c.suppliers,stock:Number(c.stock),price:Number(c.price)}});return(0,t.useEffect)((()=>{C("category",m)}),[m,C]),(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)("form",{onSubmit:b((e=>{const s={...c,name:e.name,category:e.category,suppliers:e.suppliers,stock:e.stock.toString(),price:e.price.toString()},{_id:r,...t}=s;_((0,P.WG)({_id:c._id,...t})),$.oR.success("The product was successfully updated"),d()})),children:[(0,A.jsxs)("div",{className:Y,children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("input",{...N("name"),className:Q,placeholder:"Product info"}),(0,A.jsx)("p",{className:G,children:null===(s=w.name)||void 0===s?void 0:s.message})]}),(0,A.jsxs)("div",{className:z,children:[(0,A.jsx)(j.xI,{name:"category",control:y,render:e=>{let{field:s}=e;return(0,A.jsx)("input",{...s,className:Q,placeholder:"Category",value:m,onChange:e=>h(e.target.value)})}}),(0,A.jsx)("p",{className:G,children:null===(r=w.category)||void 0===r?void 0:r.message}),(0,A.jsx)("div",{className:U,onClick:()=>u(!i),ref:p,children:(0,A.jsx)(a.A,{name:"chevron-down",width:16,height:16})}),i&&(0,A.jsx)(k,{onSelect:e=>{h(e),u(!1)},onClose:u,ref:p})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("input",{...N("suppliers"),className:Q,placeholder:"Suppliers"}),(0,A.jsx)("p",{className:G,children:null===(n=w.suppliers)||void 0===n?void 0:n.message})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(j.xI,{name:"stock",control:y,render:e=>{let{field:s}=e;return(0,A.jsx)("input",{...s,className:Q,placeholder:"Stock",type:"number",onChange:e=>{const r=e.target.value.replace(",",".");s.onChange(r)}})}}),(0,A.jsx)("p",{className:G,children:null===(o=w.stock)||void 0===o?void 0:o.message})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(j.xI,{name:"price",control:y,render:e=>{let{field:s}=e;return(0,A.jsx)("input",{...s,className:Q,placeholder:"Price",type:"number",onChange:e=>{const r=e.target.value.replace(",",".");s.onChange(r)}})}}),(0,A.jsx)("p",{className:G,children:null===(l=w.price)||void 0===l?void 0:l.message})]})]}),(0,A.jsxs)("div",{className:B,children:[(0,A.jsx)("button",{type:"submit",className:X,children:"Add"}),(0,A.jsx)("button",{type:"button",className:Z,onClick:d,children:"Cancel"})]})]})})},se="DeleteModal_text__Uq4Ab",re="DeleteModal_buttonWrap__Xs998",te="DeleteModal_buttonDelete__pHkcD",ne="DeleteModal_buttonCancel__IoVJ7",oe=e=>{let{data:s,onClose:r,handleDelete:t}=e;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("p",{className:se,children:["Are you sure you want to delete ",s.name,"?"]}),(0,A.jsxs)("div",{className:re,children:[(0,A.jsx)("button",{type:"submit",className:te,onClick:t,children:"Delete"}),(0,A.jsx)("button",{type:"button",className:ne,onClick:r,children:"Cancel"})]})]})};var le=r(1525);const ae=e=>{let{searchQuery:s}=e;const r=(0,S.d4)(le.VW),n=(0,S.wA)(),o=[{header:"All products",footer:e=>e.column.id,columns:[{accessorKey:"name",header:"Product Info",footer:e=>e.column.id},{accessorKey:"category",header:"Category",footer:e=>e.column.id},{accessorKey:"stock",header:"Stock",footer:e=>e.column.id},{accessorKey:"suppliers",header:"Suppliers",footer:e=>e.column.id},{accessorKey:"price",header:"Price",footer:e=>e.column.id},{accessorKey:"action",header:"Action",cell:e=>{let{row:s}=e;return(0,A.jsxs)("div",{className:V,children:[(0,A.jsx)("div",{className:W,onClick:()=>h(s.original),children:(0,A.jsx)(a.A,{name:"edit",width:13,height:13})}),(0,A.jsx)("div",{className:O,onClick:()=>p(s.original),children:(0,A.jsx)(a.A,{name:"delete",width:13,height:13})})]})},footer:e=>e.column.id}]}],l=(0,t.useMemo)((()=>r),[r]),[d,i]=(0,t.useState)(null),[u,m]=(0,t.useState)(null),h=e=>{i(e)},p=e=>{m(e)},_=()=>{i(null)},x=()=>{m(null)},j=(0,D.N4)({data:l,columns:o,enableColumnResizing:!0,columnResizeMode:"onChange",getCoreRowModel:(0,q.HT)()});return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("table",{className:T,children:[(0,A.jsx)("thead",{children:j.getHeaderGroups().map(((e,s)=>(0,A.jsx)("tr",{className:0===s?F:K,children:e.headers.map((e=>(0,A.jsx)("th",{colSpan:e.colSpan,className:0===s?F:K,style:{width:e.getSize()},children:e.isPlaceholder?null:(0,D.Kv)(e.column.columnDef.header,e.getContext())},e.id)))},e.id)))}),(0,A.jsx)("tbody",{children:j.getRowModel().rows.map((e=>(0,A.jsx)("tr",{children:e.getVisibleCells().map((e=>(0,A.jsx)("td",{className:"".concat(R," ").concat("name"===e.column.id?I:"category"===e.column.id?H:"stock"===e.column.id?J:""),style:{width:e.column.getSize()},children:(0,D.Kv)(e.column.columnDef.cell,e.getContext())},e.id)))},e.id)))})]}),0===l.length&&(0,A.jsx)("div",{className:L,children:"No results found for your search query."}),d&&(0,A.jsx)(c.A,{onClose:_,title:"Edit product",children:(0,A.jsx)(ee,{onClose:_,data:d})}),u&&(0,A.jsx)(c.A,{onClose:x,title:"Delete Product",children:(0,A.jsx)(oe,{onClose:x,data:u,handleDelete:()=>{return e=u._id,n((0,P.DD)(e)),$.oR.success("The product is successfully deleted"),void x();var e}})})]})};var ce=r(7240),de=r(196);const ie=()=>{const[e,s]=(0,t.useState)(""),r=(0,S.wA)(),l=(0,S.d4)(le.Vs),a=(0,S.d4)(le.rP);return(0,t.useEffect)((()=>{const s={page:l,limit:5,...e&&{name:e}};r((0,P.j0)(s))}),[l,r,e]),(0,t.useEffect)((()=>{r((0,de.Tm)(1))}),[e,r]),(0,A.jsxs)("section",{className:o.A.container,children:[(0,A.jsx)(n.A,{setSearchQuery:s,placeholder:"Product Name"}),(0,A.jsx)(E,{}),(0,A.jsx)(ae,{searchQuery:e}),(0,A.jsx)(ce.A,{currentPage:l,total:a,handlePageChange:e=>{r((0,de.Tm)(e))}})]})}},6962:(e,s,r)=>{r.d(s,{A:()=>n});var t=r(5043);const n=(e,s,r)=>{(0,t.useEffect)((()=>{const t=s=>{"Escape"===s.code&&e(!1)},n=t=>{!s.current||s.current.contains(t.target)||null===r||void 0===r||!r.current||null!==r&&void 0!==r&&r.current.contains(t.target)||e(!1)};return window.addEventListener("keydown",t),document.addEventListener("mousedown",n),()=>{window.removeEventListener("keydown",t),document.removeEventListener("mousedown",n)}}),[e,s,r])}},7170:(e,s,r)=>{r.d(s,{A:()=>t});const t={container:"ContainerStyles_container__c-Ay4",wrap:"ContainerStyles_wrap__Zujzm"}}}]);
//# sourceMappingURL=412.3d2de6c5.chunk.js.map