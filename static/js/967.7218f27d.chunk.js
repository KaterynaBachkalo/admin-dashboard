"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[967],{5738:(e,s,t)=>{t.d(s,{A:()=>i});const r="FilterForm_wrap__dKOTC",o="FilterForm_icon__23iPD",l="FilterForm_input__NJviq",n="FilterForm_button__2yayb";var a=t(4858),c=t(7713),d=t(579);const i=e=>{let{setSearchQuery:s,placeholder:t}=e;const{register:i,handleSubmit:u}=(0,a.mN)();return(0,d.jsx)("form",{onSubmit:u((e=>{s(e.name)})),children:(0,d.jsxs)("div",{className:r,children:[(0,d.jsx)("input",{...i("name"),className:l,placeholder:t}),(0,d.jsxs)("button",{type:"submit",className:n,children:[(0,d.jsx)("div",{className:o,children:(0,d.jsx)(c.A,{name:"filter",width:14,height:14})}),"Filter"]})]})})}},4229:(e,s,t)=>{t.d(s,{A:()=>_});var r=t(5043),o=t(7950);const l="Modal_backdrop__xTnIT",n="Modal_container__Ha+Ky",a="Modal_modal__DJDMv",c="Modal_btnClose__oHdcJ",d="Modal_title__3HkNf",i=(e,s,t)=>{(0,r.useEffect)((()=>{const t=s=>{"Escape"===s.code&&e(!1)},r=t=>{s.current&&!s.current.contains(t.target)&&e(!1)};return window.addEventListener("keydown",t),document.addEventListener("mousedown",r),document.body.classList.add("body-scroll-lock"),()=>{window.removeEventListener("keydown",t),document.removeEventListener("mousedown",r),document.body.classList.remove("body-scroll-lock")}}),[e,s,t])};var u=t(7713),m=t(579);const h=document.querySelector("#root-modal"),_=e=>{let{onClose:s,children:t,title:_}=e;const p=(0,r.useRef)(null);return i(s,p),h&&(0,o.createPortal)((0,m.jsx)("div",{className:l,children:(0,m.jsx)("div",{className:n,children:(0,m.jsxs)("div",{className:a,ref:p,onClick:e=>e.stopPropagation(),children:[(0,m.jsx)("button",{className:c,onClick:()=>s(!1),children:(0,m.jsx)(u.A,{name:"close",width:24,height:24})}),(0,m.jsx)("div",{className:d,children:_}),(0,m.jsx)("div",{children:t})]})})}),h)}},7240:(e,s,t)=>{t.d(s,{A:()=>a});const r="RenderPaginationDots_pagination__HG7kX",o="RenderPaginationDots_dot__MjI2h",l="RenderPaginationDots_activeDot__xOgyA";var n=t(579);const a=e=>{let{currentPage:s,total:t,handlePageChange:a}=e;const c=Math.ceil(t/5),d=[],i=Math.floor(2.5);let u=Math.max(1,s-i),m=Math.min(c,s+i);s<=i?m=Math.min(c,5):s>c-i&&(u=Math.max(1,c-5+1));for(let r=u;r<=m;r++)d.push((0,n.jsx)("button",{onClick:()=>a(r),className:"".concat(o," ").concat(s===r?l:"")},r));return u>1&&(d.unshift((0,n.jsx)("span",{children:"..."},"startEllipsis")),d.unshift((0,n.jsx)("button",{onClick:()=>a(1),className:"".concat(o," ").concat(1===s?l:"")},1))),m<c&&(d.push((0,n.jsx)("span",{children:"..."},"endEllipsis")),d.push((0,n.jsx)("button",{onClick:()=>a(c),className:"".concat(o," ").concat(s===c?l:"")},c))),(0,n.jsx)("div",{className:r,children:d})}},4967:(e,s,t)=>{t.r(s),t.d(s,{default:()=>de});var r=t(5043),o=t(5738),l=t(7170);const n="AddNewProduct_icon__MFMLA";var a=t(7713),c=t(4229);const d="AddNewProductModal_wrap__U+mpS",i="AddNewProductModal_inputWrap__jAL8w",u="AddNewProductModal_input__SF6J9",m="AddNewProductModal_errormessage__sDoOW",h="AddNewProductModal_iconChevron__edSiP",_="AddNewProductModal_buttonWrap__cJclg",p="AddNewProductModal_buttonAdd__wSxIX",x="AddNewProductModal_buttonCancel__5dJ84";var j=t(4858),v=t(8403),g=t(899);const N="Dropdown_dropDown__VO0hG",b="Dropdown_container__wdJNh",y="Dropdown_list__T+o5-",w="Dropdown_category__mKHwx";var C=t(6962);const f=["Medicine","Head","Hand","Dental Care","Skin Care","Eye Care","Vitamins & Supplements","Orthopedic Products","Baby Care"];var A=t(579);const P=r.forwardRef(((e,s)=>{let{onSelect:t,onClose:o}=e;const l=(0,r.useRef)(null);return(0,C.A)(o,l,s),(0,A.jsx)("div",{className:N,ref:l,children:(0,A.jsx)("div",{className:b,children:(0,A.jsx)("ul",{className:y,children:f.map((e=>(0,A.jsx)("li",{onClick:()=>{t(e)},className:w,children:e},e)))})})})})),k=e=>{var s,t,o,l,n;let{onClose:c}=e;const[N,b]=(0,r.useState)(!1),[y,w]=(0,r.useState)(""),C=(0,r.useRef)(null),f=g.Ik({productInfo:g.Yj().required("Product info is required"),category:g.Yj().required("Category is required"),suppliers:g.Yj().required("Suppliers is required"),stock:g.Yj().required("Stock is required"),price:g.ai().typeError("Price is required and must be a number").required()}).required(),{register:k,handleSubmit:S,reset:M,control:E,setValue:q,formState:{errors:D}}=(0,j.mN)({resolver:(0,v.t)(f)});return(0,r.useEffect)((()=>{q("category",y)}),[y,q]),(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)("form",{onSubmit:S((e=>{console.log(e),M()})),children:[(0,A.jsxs)("div",{className:d,children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("input",{...k("productInfo"),className:u,placeholder:"Product info"}),(0,A.jsx)("p",{className:m,children:null===(s=D.productInfo)||void 0===s?void 0:s.message})]}),(0,A.jsxs)("div",{className:i,children:[(0,A.jsx)(j.xI,{name:"category",control:E,render:e=>{let{field:s}=e;return(0,A.jsx)("input",{...s,className:u,placeholder:"Category",value:y})}}),(0,A.jsx)("p",{className:m,children:null===(t=D.category)||void 0===t?void 0:t.message}),(0,A.jsx)("div",{className:h,onClick:()=>b(!N),ref:C,children:(0,A.jsx)(a.A,{name:"chevron-down",width:16,height:16})}),N&&(0,A.jsx)(P,{onSelect:e=>{w(e),b(!1)},onClose:b,ref:C})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("input",{...k("suppliers"),className:u,placeholder:"Suppliers"}),(0,A.jsx)("p",{className:m,children:null===(o=D.suppliers)||void 0===o?void 0:o.message})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("input",{...k("stock"),className:u,placeholder:"Stock"}),(0,A.jsx)("p",{className:m,children:null===(l=D.stock)||void 0===l?void 0:l.message})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("input",{...k("price"),className:u,placeholder:"Price",type:"number"}),(0,A.jsx)("p",{className:m,children:null===(n=D.price)||void 0===n?void 0:n.message})]})]}),(0,A.jsxs)("div",{className:_,children:[(0,A.jsx)("button",{type:"submit",className:p,children:"Add"}),(0,A.jsx)("button",{type:"button",className:x,onClick:c,children:"Cancel"})]})]})})},S=()=>{const[e,s]=(0,r.useState)(!1),t=()=>{s(!1)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{className:n,onClick:()=>s(!0),children:(0,A.jsx)(a.A,{name:"add",width:20,height:20})}),e&&(0,A.jsx)(c.A,{onClose:t,title:"Add a new product",children:(0,A.jsx)(k,{onClose:t})})]})};var M=t(8931),E=t(7111);const q="AllProductsTable_table__RucKg",D="AllProductsTable_header__L8aca",T="AllProductsTable_subheader__AUKOw",L="AllProductsTable_row__-xfsz",F="AllProductsTable_noResults__dcB5-",K="AllProductsTable_col-info__KTKqG",R="AllProductsTable_col-category__K37vU",I="AllProductsTable_col-stock__7Jp11",H="AllProductsTable_buttonsWrap__S3MdH",V="AllProductsTable_buttonEdit__yCkyO",Y="AllProductsTable_buttonDelete__hTPUZ",J="EditModal_wrap__6LjQN",W="EditModal_inputWrap__8rLVE",O="EditModal_input__DemmQ",Q="EditModal_errormessage__Twc9m",z="EditModal_iconChevron__Y44qd",U="EditModal_buttonWrap__wH5ct",G="EditModal_buttonAdd__MgbNJ",X="EditModal_buttonCancel__nZEvv",Z=e=>{var s,t,o,l,n;let{data:c,onClose:d}=e;const[i,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(c.category),_=(0,r.useRef)(null),p=g.Ik({name:g.Yj().required("Product info is required"),category:g.Yj().required("Category is required"),suppliers:g.Yj().required("Suppliers is required"),stock:g.Yj().required("Stock is required"),price:g.Yj().typeError("Price is required and must be a number").required()}).required(),{register:x,handleSubmit:N,control:b,setValue:y,formState:{errors:w}}=(0,j.mN)({resolver:(0,v.t)(p),defaultValues:{name:c.name,category:c.category,suppliers:c.suppliers,stock:c.stock,price:c.price}});return(0,r.useEffect)((()=>{y("category",m)}),[m,y]),(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)("form",{onSubmit:N((e=>{console.log(e),d()})),children:[(0,A.jsxs)("div",{className:J,children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("input",{...x("name"),className:O,placeholder:"Product info"}),(0,A.jsx)("p",{className:Q,children:null===(s=w.name)||void 0===s?void 0:s.message})]}),(0,A.jsxs)("div",{className:W,children:[(0,A.jsx)(j.xI,{name:"category",control:b,render:e=>{let{field:s}=e;return(0,A.jsx)("input",{...s,className:O,placeholder:"Category",value:m,onChange:e=>h(e.target.value)})}}),(0,A.jsx)("p",{className:Q,children:null===(t=w.category)||void 0===t?void 0:t.message}),(0,A.jsx)("div",{className:z,onClick:()=>u(!i),ref:_,children:(0,A.jsx)(a.A,{name:"chevron-down",width:16,height:16})}),i&&(0,A.jsx)(P,{onSelect:e=>{h(e),u(!1)},onClose:u,ref:_})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("input",{...x("suppliers"),className:O,placeholder:"Suppliers"}),(0,A.jsx)("p",{className:Q,children:null===(o=w.suppliers)||void 0===o?void 0:o.message})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("input",{...x("stock"),className:O,placeholder:"Stock"}),(0,A.jsx)("p",{className:Q,children:null===(l=w.stock)||void 0===l?void 0:l.message})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(j.xI,{name:"price",control:b,render:e=>{let{field:s}=e;return(0,A.jsx)("input",{...s,className:O,placeholder:"Price",onChange:e=>{const t=e.target.value.replace(",",".");s.onChange(t)}})}}),(0,A.jsx)("p",{className:Q,children:null===(n=w.price)||void 0===n?void 0:n.message})]})]}),(0,A.jsxs)("div",{className:U,children:[(0,A.jsx)("button",{type:"submit",className:G,children:"Add"}),(0,A.jsx)("button",{type:"button",className:X,onClick:d,children:"Cancel"})]})]})})},B="DeleteModal_text__nLnZI",$="DeleteModal_buttonWrap__m5M8N",ee="DeleteModal_buttonDelete__y+Mnb",se="DeleteModal_buttonCancel__ycUPy",te=e=>{let{data:s,onClose:t}=e;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("p",{className:B,children:["Are you sure you want to delete ",s.name,"?"]}),(0,A.jsxs)("div",{className:$,children:[(0,A.jsx)("button",{type:"submit",className:ee,onClick:()=>{t()},children:"Delete"}),(0,A.jsx)("button",{type:"button",className:se,onClick:t,children:"Cancel"})]})]})};var re=t(7240),oe=t(3003),le=t(1525),ne=t(196);const ae=e=>{let{searchQuery:s}=e;const t=(0,oe.wA)(),o=(0,oe.d4)(le.VW),l=(0,oe.d4)(le.Vs),n=(0,oe.d4)(le.rP),d=[{header:"All products",footer:e=>e.column.id,columns:[{accessorKey:"name",header:"Product Info",footer:e=>e.column.id},{accessorKey:"category",header:"Category",footer:e=>e.column.id},{accessorKey:"stock",header:"Stock",footer:e=>e.column.id},{accessorKey:"suppliers",header:"Suppliers",footer:e=>e.column.id},{accessorKey:"price",header:"Price",footer:e=>e.column.id},{accessorKey:"action",header:"Action",cell:e=>{let{row:s}=e;return(0,A.jsxs)("div",{className:H,children:[(0,A.jsx)("div",{className:V,onClick:()=>j(s.original),children:(0,A.jsx)(a.A,{name:"edit",width:13,height:13})}),(0,A.jsx)("div",{className:Y,onClick:()=>v(s.original),children:(0,A.jsx)(a.A,{name:"delete",width:13,height:13})})]})},footer:e=>e.column.id}]}],i=(0,r.useMemo)((()=>o),[o]),[u,m]=(0,r.useState)(i),[h,_]=(0,r.useState)(null),[p,x]=(0,r.useState)(null),j=e=>{_(e)},v=e=>{x(e)},g=()=>{_(null)},N=()=>{x(null)};(0,r.useEffect)((()=>{const e=s.toLowerCase();m(i.filter((s=>s.name.toLowerCase().includes(e))))}),[s,i]);const b=(0,M.N4)({data:u,columns:d,enableColumnResizing:!0,columnResizeMode:"onChange",getCoreRowModel:(0,E.HT)(),debugTable:!1,debugHeaders:!1,debugColumns:!1});return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("table",{className:q,children:[(0,A.jsx)("thead",{children:b.getHeaderGroups().map(((e,s)=>(0,A.jsx)("tr",{className:0===s?D:T,children:e.headers.map((e=>(0,A.jsx)("th",{colSpan:e.colSpan,className:0===s?D:T,style:{width:e.getSize()},children:e.isPlaceholder?null:(0,M.Kv)(e.column.columnDef.header,e.getContext())},e.id)))},e.id)))}),(0,A.jsx)("tbody",{children:b.getRowModel().rows.map((e=>(0,A.jsx)("tr",{children:e.getVisibleCells().map((e=>(0,A.jsx)("td",{className:"".concat(L," ").concat("name"===e.column.id?K:"category"===e.column.id?R:"stock"===e.column.id?I:""),style:{width:e.column.getSize()},children:(0,M.Kv)(e.column.columnDef.cell,e.getContext())},e.id)))},e.id)))})]}),0===u.length&&(0,A.jsx)("div",{className:F,children:"No results found for your search query."}),h&&(0,A.jsx)(c.A,{onClose:g,title:"Edit product",children:(0,A.jsx)(Z,{onClose:g,data:h})}),p&&(0,A.jsx)(c.A,{onClose:N,title:"Delete Product",children:(0,A.jsx)(te,{onClose:N,data:p})}),(0,A.jsx)(re.A,{currentPage:l,total:n,handlePageChange:e=>{t((0,ne.Tm)(e))}})]})};var ce=t(6886);const de=()=>{const[e,s]=(0,r.useState)(""),t=(0,oe.wA)(),n=(0,oe.d4)(le.Vs);return(0,r.useEffect)((()=>{const s={page:n,limit:5,...e&&{name:e}};t((0,ce.j0)(s))}),[n,t,e]),(0,A.jsxs)("section",{className:l.A.container,children:[(0,A.jsx)(o.A,{setSearchQuery:s,placeholder:"Product Name"}),(0,A.jsx)(S,{}),(0,A.jsx)(ae,{searchQuery:e})]})}},1525:(e,s,t)=>{t.d(s,{Qx:()=>m,Sf:()=>d,VW:()=>r,Vs:()=>c,X6:()=>n,_X:()=>u,ee:()=>a,ix:()=>o,rP:()=>i,wQ:()=>l});const r=e=>e.admin.products,o=e=>e.admin.suppliers,l=e=>e.admin.customers,n=e=>e.admin.incomeExpenses,a=e=>e.admin.orders,c=e=>e.admin.currentPage,d=e=>e.admin.totalCustomers,i=e=>e.admin.totalProducts,u=e=>e.admin.totalSuppliers,m=e=>e.admin.totalOrders},6962:(e,s,t)=>{t.d(s,{A:()=>o});var r=t(5043);const o=(e,s,t)=>{(0,r.useEffect)((()=>{const r=s=>{"Escape"===s.code&&e(!1)},o=r=>{!s.current||s.current.contains(r.target)||null===t||void 0===t||!t.current||null!==t&&void 0!==t&&t.current.contains(r.target)||e(!1)};return window.addEventListener("keydown",r),document.addEventListener("mousedown",o),()=>{window.removeEventListener("keydown",r),document.removeEventListener("mousedown",o)}}),[e,s,t])}},7170:(e,s,t)=>{t.d(s,{A:()=>r});const r={container:"ContainerStyles_container__c-Ay4",wrap:"ContainerStyles_wrap__Zujzm"}}}]);
//# sourceMappingURL=967.7218f27d.chunk.js.map